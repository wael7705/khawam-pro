# ๐ ุชุญููู ููู ูุงุนุฏุฉ ุงูุจูุงูุงุช KHAWAM_DB.sql

## โ ุงูููู ุงูููุฌูุฏ
**ุงููููุน:** `database/KHAWAM_DB.sql`  
**ุงูุญุฌู:** ~1030 ุณุทุฑ  
**ุงูุญุงูุฉ:** ููู ุดุงูู ููุชูุงูู โ

---

## ๐ ุงูุชุญููู ุงูุชูุตููู

### ุงูุฌุฏุงูู ุงูููุฌูุฏุฉ (24 ุฌุฏูู)

#### 1. ุฌุฏุงูู ุงููุณุชุฎุฏููู ูุงูุตูุงุญูุงุช
- โ `user_types` - ุฃููุงุน ุงููุณุชุฎุฏููู
- โ `users` - ุงููุณุชุฎุฏููู
- โ `user_sessions` - ุงูุฌูุณุงุช
- โ `customer_profiles` - ูููุงุช ุงูุนููุงุก
- โ `customer_communications` - ุชูุงุตู ุงูุนููุงุก

#### 2. ุฌุฏุงูู ุงูููุชุฌุงุช ูุงูุฎุฏูุงุช
- โ `product_categories` - ูุฆุงุช ุงูููุชุฌุงุช
- โ `products` - ุงูููุชุฌุงุช
- โ `product_sizes` - ููุงุณุงุช ุงูููุชุฌุงุช
- โ `material_types` - ุฃููุงุน ุงูุฎุงูุงุช
- โ **`services`** โ (ูู ุงููููุงุช ุงูุฃุฎุฑู - ุงูุณุทุฑ 740)
- โ **`service_options`** โ (ุงูุณุทุฑ 758)

#### 3. ุฌุฏุงูู ุงูุทูุจุงุช ูุงูุฏูุน
- โ `orders` - ุงูุทูุจุงุช
- โ `order_items` - ุนูุงุตุฑ ุงูุทูุจุงุช
- โ `order_status_history` - ุชุงุฑูุฎ ุญุงูุฉ ุงูุทูุจุงุช
- โ `payments` - ุงููุฏููุนุงุช
- โ `invoices` - ุงูููุงุชูุฑ

#### 4. ุฌุฏุงูู ุงูุงุณุชุฏูู
- โ `studio_projects` - ูุดุงุฑูุน ุงูุงุณุชุฏูู
- โ `image_processing_logs` - ุณุฌูุงุช ูุนุงูุฌุฉ ุงูุตูุฑ
- โ `passport_templates` - ููุงูุจ ุงูุตูุฑ ุงูุดุฎุตูุฉ

#### 5. ุฌุฏุงูู ุงููุฎุฒูู ูุงูุชูุงุฑูุฑ
- โ `inventory` - ุงููุฎุฒูู
- โ `inventory_transactions` - ูุนุงููุงุช ุงููุฎุฒูู
- โ `custom_reports` - ุงูุชูุงุฑูุฑ ุงููุฎุตุตุฉ
- โ `daily_sales_stats` - ุฅุญุตุงุฆูุงุช ุงููุจูุนุงุช ุงูููููุฉ

#### 6. ุฌุฏุงูู ุงููุธุงู
- โ `system_settings` - ุฅุนุฏุงุฏุงุช ุงููุธุงู
- โ `activity_logs` - ุณุฌูุงุช ุงููุดุงุท
- โ `backup_logs` - ุณุฌูุงุช ุงููุณุฎ ุงูุงุญุชูุงุทู
- โ `login_history` - ุชุงุฑูุฎ ุชุณุฌูู ุงูุฏุฎูู

#### 7. ุฌุฏุงูู ุฅุถุงููุฉ โ
- โ **`portfolio_works`** - ุฃุนูุงู ุงููุญูุธุฉ (ุงูุณุทุฑ 772)
- โ **`uploaded_files`** - ุงููููุงุช ุงููุฑููุนุฉ (ุงูุณุทุฑ 793)
- โ **`reviews`** - ุงูุชููููุงุช (ุงูุณุทุฑ 806)
- โ **`likes`** - ุงูุฅุนุฌุงุจุงุช (ุงูุณุทุฑ 817)

---

## โ ุงูููุฒุงุช ุงูุฅูุฌุงุจูุฉ

1. โ **ุฏุนู ูุงูู ููุฌุฏุงูู ุงููุทููุจุฉ**
   - Services โ
   - Portfolio Works โ
   - Reviews & Likes โ

2. โ **ุจูุงูุงุช ุชุฌุฑูุจูุฉ ุฌุงูุฒุฉ**
   - ูุณุชุฎุฏููู (8 ูุณุชุฎุฏููู)
   - ููุชุฌุงุช (7 ููุชุฌุงุช)
   - ุฎุฏูุงุช (6 ุฎุฏูุงุช)
   - ุฎูุงุฑุงุช ุงูุฎุฏูุฉ โ
   - ุฃุนูุงู ุงููุญูุธุฉ (5 ุฃุนูุงู)
   - ุทูุจุงุช (8 ุทูุจุงุช)

3. โ **Roles & Permissions**
   - ุฃุฏูุงุฑ ูุฎุชููุฉ (Admin, Employee, Customer)
   - Row Level Security (RLS)
   - ุตูุงุญูุงุช ูุญุฏุฏุฉ

4. โ **Views ุฅุญุตุงุฆูุฉ**
   - `order_statistics` - ุฅุญุตุงุฆูุงุช ุงูุทูุจุงุช
   - `top_selling_products` - ุฃูุซุฑ ุงูููุชุฌุงุช ูุจูุนุงู
   - `vip_customers` - ุงูุนููุงุก ุงููููุฒูู
   - `services_with_options` - ุงูุฎุฏูุงุช ูุน ุงูุฎูุงุฑุงุช โ
   - `customer_stats` - ุฅุญุตุงุฆูุงุช ุงูุนููุงุก
   - `product_stats` - ุฅุญุตุงุฆูุงุช ุงูููุชุฌุงุช

5. โ **Triggers & Functions**
   - ุชุญุฏูุซ `updated_at` ุชููุงุฆูุงู
   - ุชูููุฏ ุฃุฑูุงู ุงูุทูุจุงุช ุชููุงุฆูุงู
   - ุชูููุฏ ุฃุฑูุงู ุงูููุงุชูุฑ

6. โ **Indexes**
   - ููุงุฑุณ ุนูู ุงูุญููู ุงููููุฉ
   - ููุงุฑุณ ุนูู visibility ู featured

---

## โ๏ธ ููุงุญุธุงุช

### 1. ุงูุชุนููุฏ
- ุงูููู ูุจูุฑ (1030 ุณุทุฑ)
- ูุญุชูู ุนูู ุฌุฏุงูู ุฅุถุงููุฉ ูุฏ ูุง ุชููู ุถุฑูุฑูุฉ ุญุงููุงู:
  - `inventory` ู `inventory_transactions`
  - `custom_reports`
  - `daily_sales_stats`
  - `activity_logs`, `backup_logs`, `login_history`

### 2. ุงูุชุจุณูุท ุงูููุชุฑุญ
ูููู ุญุฐู ุงูุฌุฏุงูู ุงูุชุงููุฉ ุฅุฐุง ูู ุชูู ุถุฑูุฑูุฉ:

```sql
-- ุงูุฌุฏุงูู ุงูุชู ูููู ุญุฐููุง (ุงุฎุชูุงุฑู)
DROP TABLE IF EXISTS inventory CASCADE;
DROP TABLE IF EXISTS inventory_transactions CASCADE;
DROP TABLE IF EXISTS custom_reports CASCADE;
DROP TABLE IF EXISTS daily_sales_stats CASCADE;
DROP TABLE IF EXISTS activity_logs CASCADE;
DROP TABLE IF EXISTS backup_logs CASCADE;
DROP TABLE IF EXISTS login_history CASCADE;
DROP TABLE IF EXISTS customer_communications CASCADE;
```

---

## ๐ ุฌุงูุฒ ูููุดุฑ

ุงูููู **ุฌุงูุฒ ูููุดุฑ ูุจุงุดุฑุฉ** ุนูู Railway ุจุฏูู ุชุนุฏููุงุช.

ุณุฃููู ุจุฅูุดุงุก:
1. โ ููู ูุจุณุท ููู Migration (ุงุฎุชูุงุฑู)
2. โ ุฏููู ูุดุฑ ุดุงูู
3. โ ูุฑุงุฌุนุฉ ุงูุชุนููุฏ ูุฅุตูุงุญ ุงููุดุงูู ุฅู ูุฌุฏุช

**ูู ุชุฑูุฏ ุงููุจุณุท ุฃู ุงูุฃุตููุ**
