# ๐ ุงุฎุชุจุงุฑ ูุธุงู ุชุชุจุน ุงูุฒูุงุฑ (Analytics)

## โ ุงูุชุญูู ูู ุงููุธุงู

### 1. ุงูุชุญูู ูู ุงูุฌุฏุงูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

ููููู ุงูุชุญูู ูู ูุฌูุฏ ุงูุฌุฏุงูู ุนุจุฑ endpoint ุงูุงุฎุชุจุงุฑ:

```bash
GET /api/analytics/test
```

ุณููุฑุฌุน:
```json
{
  "tables_exist": {
    "visitor_tracking": true,
    "page_views": true
  },
  "table_counts": {
    "visitor_tracking": 10,
    "page_views": 25
  },
  "status": "ok"
}
```

### 2. ุงูุชุญูู ูู Migration

ุนูุฏ ุงูุฑูุน ุนูู Railwayุ ูุชู ุชุดุบูู migration ุชููุงุฆูุงู ุนุจุฑ `start.sh`:

```bash
python /app/migration_analytics_and_orders.py
```

### 3. ุงูุชุญูู ูู ุงูุชุชุจุน

ุงูุชุญ Developer Console ูู ุงููุชุตูุญ ูุชุญูู ูู:
- ุฑุณุงุฆู `โ Visit tracked` ุนูุฏ ุฒูุงุฑุฉ ุงูุตูุญุงุช
- ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก ูู Network tab

### 4. ุงูุชุญูู ูู ุงูุจูุงูุงุช ูู Dashboard

ุงุฐูุจ ุฅูู `/dashboard` ูุชุญูู ูู:
- ูุณู "ุฅุญุตุงุฆูุงุช ุงูุฒูุงุฑ" ูุนุฑุถ ุงูุจูุงูุงุช
- ุตูุญุฉ Analytics `/dashboard/analytics` ุชุนุฑุถ ุงูุฅุญุตุงุฆูุงุช

## ๐ง ุฅูุดุงุก ุงูุฌุฏุงูู ุชููุงุฆูุงู

ุงููุธุงู ุงูุขู ูููู ุจุฅูุดุงุก ุงูุฌุฏุงูู ุชููุงุฆูุงู ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ:

1. **ุนูุฏ ุฃูู ุทูุจ ุชุชุจุน**: ุฅุฐุง ูู ููู ุฌุฏูู `visitor_tracking` ููุฌูุฏุงูุ ุณูุชู ุฅูุดุงุคู ุชููุงุฆูุงู
2. **ุนูุฏ ุฃูู page view**: ุฅุฐุง ูู ููู ุฌุฏูู `page_views` ููุฌูุฏุงูุ ุณูุชู ุฅูุดุงุคู ุชููุงุฆูุงู
3. **ุนูุฏ ุงูุฑูุน ุนูู Railway**: ูุชู ุชุดุบูู migration script ุชููุงุฆูุงู

## ๐ ุงูุฌุฏุงูู ุงููุทููุจุฉ

### `visitor_tracking`
- `id`: ูุนุฑู ูุฑูุฏ
- `session_id`: ูุนุฑู ุงูุฌูุณุฉ
- `user_id`: ูุนุฑู ุงููุณุชุฎุฏู (ุฅู ูุฌุฏ)
- `page_path`: ูุณุงุฑ ุงูุตูุญุฉ
- `referrer`: ุงูุตูุญุฉ ุงููุฑุฌุนูุฉ
- `user_agent`: ูุนูููุงุช ุงููุชุตูุญ
- `device_type`: ููุน ุงูุฌูุงุฒ (mobile, desktop, tablet)
- `browser`: ุงููุชุตูุญ
- `os`: ูุธุงู ุงูุชุดุบูู
- `ip_address`: ุนููุงู IP
- `country`: ุงูุฏููุฉ
- `city`: ุงููุฏููุฉ
- `time_on_page`: ุงูููุช ุนูู ุงูุตูุญุฉ
- `exit_page`: ูู ูุฐู ุตูุญุฉ ุงูุฎุฑูุฌุ
- `entry_page`: ูู ูุฐู ุตูุญุฉ ุงูุฏุฎููุ
- `visit_count`: ุนุฏุฏ ุงูุฒูุงุฑุงุช
- `created_at`: ุชุงุฑูุฎ ุงูุฅูุดุงุก
- `updated_at`: ุชุงุฑูุฎ ุงูุชุญุฏูุซ

### `page_views`
- `id`: ูุนุฑู ูุฑูุฏ
- `visitor_id`: ูุนุฑู ุงูุฒุงุฆุฑ (ูุฑุฌุน ูู visitor_tracking)
- `session_id`: ูุนุฑู ุงูุฌูุณุฉ
- `page_path`: ูุณุงุฑ ุงูุตูุญุฉ
- `time_spent`: ุงูููุช ุนูู ุงูุตูุญุฉ ุจุงูุซูุงูู
- `scroll_depth`: ุนูู ุงูุชูุฑูุฑ (0-100)
- `actions`: ุงูุฃุญุฏุงุซ (JSON)
- `created_at`: ุชุงุฑูุฎ ุงูุฅูุดุงุก

## ๐ ุญู ุงููุดุงูู

### ุงููุดููุฉ: ูุง ุชุธูุฑ ุฃู ุฒูุงุฑ

**ุงูุญู:**
1. ุชุญูู ูู endpoint ุงูุงุฎุชุจุงุฑ: `GET /api/analytics/test`
2. ุชุญูู ูู logs ูู Railway
3. ุชุฃูุฏ ูู ุฃู migration ุชู ุชุดุบููู
4. ุชุญูู ูู console ูู ุงููุชุตูุญ ููุฃุฎุทุงุก

### ุงููุดููุฉ: ุงูุฌุฏุงูู ุบูุฑ ููุฌูุฏุฉ

**ุงูุญู:**
1. ุดุบูู migration ูุฏููุงู:
   ```bash
   python database/migration_analytics_and_orders.py
   ```
2. ุฃู ุงูุชุธุฑ ุฃูู ุทูุจ ุชุชุจุน - ุณูุชู ุฅูุดุงุก ุงูุฌุฏุงูู ุชููุงุฆูุงู

### ุงููุดููุฉ: ุงูุจูุงูุงุช ูุง ุชูุญูุธ

**ุงูุญู:**
1. ุชุญูู ูู logs ูู backend
2. ุชุญูู ูู ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุตูุฉ
3. ุชุญูู ูู permissions ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ๐ ููุงุญุธุงุช

- ุงููุธุงู ูุนูู ุจุดูู non-blocking - ุญุชู ูู ูุดู ุงูุชุชุจุนุ ุงููููุน ุณูุณุชูุฑ ูู ุงูุนูู
- ุงูุจูุงูุงุช ุชูุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช PostgreSQL
- ููููู ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช ูู Dashboard ุฃู ุตูุญุฉ Analytics

